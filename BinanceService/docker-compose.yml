version: "3.3"
services:
  postgres:  
    image: postgres:latest
    container_name: postgres
    environment:
        POSTGRES_USER: "postgres"
        POSTGRES_PASSWORD: "postgres"
    ports:
        -   "5000:5432"     
  
  binanceservice:
    container_name: binanceservice
    stdin_open: true
    image: binanceservice:latest
    environment: 
      DB_CONN: "Host=postgres;Port=5432;Database=BinanceProject;Username=postgres;Password=postgres"
    build:
      dockerfile: ./DockerfileBinanceService

  telegrambot:
    container_name: telegrambot
    stdin_open: true
    image: telegrambot:latest
    environment:
      DB_CONN: "Host=postgres;Port=5432;Database=BinanceProject;Username=postgres;Password=postgres"
    build: 
      dockerfile: ./DockerfileTelegramBot